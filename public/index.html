<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Справочник Starfinder</title>

    <link rel="stylesheet" href="css/github-markdown.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
  </head>

  <body>
    <aside class="sidebar" id="sidebar">

    <div class="category">
      <div class="category-header">Справочники<span class="arrow">▲</span></div>
      <div class="subcategory-list">
        <div class="subcategory">
          <div class="category-header">Классы<span class="arrow">▲</span></div>
          <ul class="category-links"><li><a href="#" data-file="/content/guides/classes/Механик.md">Механик</a></li><li><a href="#" data-file="/content/guides/classes/Мистик.md">Мистик</a></li><li><a href="#" data-file="/content/guides/classes/Оперативник.md">Оперативник</a></li><li><a href="#" data-file="/content/guides/classes/Посланник.md">Посланник</a></li><li><a href="#" data-file="/content/guides/classes/Солдат.md">Солдат</a></li><li><a href="#" data-file="/content/guides/classes/Солярион.md">Солярион</a></li><li><a href="#" data-file="/content/guides/classes/Техномант.md">Техномант</a></li></ul>
        </div>
        <div class="subcategory">
          <div class="category-header">Расы<span class="arrow">▲</span></div>
          <ul class="category-links"><li><a href="#" data-file="/content/guides/races/Андроиды.md">Андроиды</a></li><li><a href="#" data-file="/content/guides/races/Барату (Alien Archive).md">Барату (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Вертани (Alien Archive).md">Вертани (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Вески.md">Вески</a></li><li><a href="#" data-file="/content/guides/races/Вичвирд (Alien Archive).md">Вичвирд (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Гномы.md">Гномы</a></li><li><a href="#" data-file="/content/guides/races/Дварфы.md">Дварфы</a></li><li><a href="#" data-file="/content/guides/races/Драконоид (Alien Archive).md">Драконоид (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Дроу (Alien Archive).md">Дроу (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Дрэлик (Alien Archive).md">Дрэлик (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Икешти (Alien Archive).md">Икешти (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Исоки.md">Исоки</a></li><li><a href="#" data-file="/content/guides/races/Кало (Alien Archive).md">Кало (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Касаты.md">Касаты</a></li><li><a href="#" data-file="/content/guides/races/Кицунэ (Starfinder Enhanced).md">Кицунэ (Starfinder Enhanced)</a></li><li><a href="#" data-file="/content/guides/races/Космогоблин (Alien Archive).md">Космогоблин (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Лашунты.md">Лашунты</a></li><li><a href="#" data-file="/content/guides/races/Люди.md">Люди</a></li><li><a href="#" data-file="/content/guides/races/Маракой (Alien Archive).md">Маракой (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Нюар (Alien Archive).md">Нюар (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Полуорки.md">Полуорки</a></li><li><a href="#" data-file="/content/guides/races/Полурослики.md">Полурослики</a></li><li><a href="#" data-file="/content/guides/races/Полуэльфы.md">Полуэльфы</a></li><li><a href="#" data-file="/content/guides/races/Расы.md">Расы</a></li><li><a href="#" data-file="/content/guides/races/Рептилоид (Alien Archive).md">Рептилоид (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Рикричи (Alien Archive).md">Рикричи (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Рифорианин (Alien Archive).md">Рифорианин (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Саркезианин (Alien Archive).md">Саркезианин (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Серый Пришелец (Alien Archive).md">Серый Пришелец (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Урог (Alien Archive).md">Урог (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Ширрены.md">Ширрены</a></li><li><a href="#" data-file="/content/guides/races/Шовад (Alien Archive).md">Шовад (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Эльфы.md">Эльфы</a></li></ul>
        </div></div>
    </div>
      
  <div class="category">
    <div class="category-header">Справочники<span class="arrow">▲</span></div>
    <ul class="category-links"><li><a href="#" data-file="/content/guides/classes/Механик.md">Механик</a></li><li><a href="#" data-file="/content/guides/classes/Мистик.md">Мистик</a></li><li><a href="#" data-file="/content/guides/classes/Оперативник.md">Оперативник</a></li><li><a href="#" data-file="/content/guides/classes/Посланник.md">Посланник</a></li><li><a href="#" data-file="/content/guides/classes/Солдат.md">Солдат</a></li><li><a href="#" data-file="/content/guides/classes/Солярион.md">Солярион</a></li><li><a href="#" data-file="/content/guides/classes/Техномант.md">Техномант</a></li><li><a href="#" data-file="/content/guides/races/Андроиды.md">Андроиды</a></li><li><a href="#" data-file="/content/guides/races/Барату (Alien Archive).md">Барату (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Вертани (Alien Archive).md">Вертани (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Вески.md">Вески</a></li><li><a href="#" data-file="/content/guides/races/Вичвирд (Alien Archive).md">Вичвирд (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Гномы.md">Гномы</a></li><li><a href="#" data-file="/content/guides/races/Дварфы.md">Дварфы</a></li><li><a href="#" data-file="/content/guides/races/Драконоид (Alien Archive).md">Драконоид (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Дроу (Alien Archive).md">Дроу (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Дрэлик (Alien Archive).md">Дрэлик (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Икешти (Alien Archive).md">Икешти (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Исоки.md">Исоки</a></li><li><a href="#" data-file="/content/guides/races/Кало (Alien Archive).md">Кало (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Касаты.md">Касаты</a></li><li><a href="#" data-file="/content/guides/races/Кицунэ (Starfinder Enhanced).md">Кицунэ (Starfinder Enhanced)</a></li><li><a href="#" data-file="/content/guides/races/Космогоблин (Alien Archive).md">Космогоблин (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Лашунты.md">Лашунты</a></li><li><a href="#" data-file="/content/guides/races/Люди.md">Люди</a></li><li><a href="#" data-file="/content/guides/races/Маракой (Alien Archive).md">Маракой (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Нюар (Alien Archive).md">Нюар (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Полуорки.md">Полуорки</a></li><li><a href="#" data-file="/content/guides/races/Полурослики.md">Полурослики</a></li><li><a href="#" data-file="/content/guides/races/Полуэльфы.md">Полуэльфы</a></li><li><a href="#" data-file="/content/guides/races/Расы.md">Расы</a></li><li><a href="#" data-file="/content/guides/races/Рептилоид (Alien Archive).md">Рептилоид (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Рикричи (Alien Archive).md">Рикричи (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Рифорианин (Alien Archive).md">Рифорианин (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Саркезианин (Alien Archive).md">Саркезианин (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Серый Пришелец (Alien Archive).md">Серый Пришелец (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Урог (Alien Archive).md">Урог (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Ширрены.md">Ширрены</a></li><li><a href="#" data-file="/content/guides/races/Шовад (Alien Archive).md">Шовад (Alien Archive)</a></li><li><a href="#" data-file="/content/guides/races/Эльфы.md">Эльфы</a></li></ul>
  </div></aside>

    <main>
      <div id="cards"></div>
      <div id="content" class="markdown-body"></div>
    </main>

    <script>
      const md = window.markdownit({ html: true, linkify: true });

      // === Аккордеоны (открытие/закрытие) ===
      document.addEventListener("click", (e) => {
        const header = e.target.closest(".category-header");
        if (header) header.parentElement.classList.toggle("open");
      });

      // === Клик по ссылке: показываем контент ===
      document.addEventListener("click", async (e) => {
        const link = e.target.closest("[data-file]");
        if (!link) return;
        e.preventDefault();

        const file = link.dataset.file;
        const res = await fetch(file);

        if (!res.ok) {
          document.getElementById("content").innerHTML =
            "<p>⚠ Не удалось загрузить файл.</p>";
          return;
        }

        const text = await res.text();
        const html = md.render(text);

        document.getElementById("cards").style.display = "none";
        const content = document.getElementById("content");
        content.style.display = "block";
        content.innerHTML = html + '<br><button id="backBtn">← Назад</button>';

        document.getElementById("backBtn").onclick = () => {
          content.style.display = "none";
          document.getElementById("cards").style.display = "grid";
        };
      });
    </script>
  </body>
</html>
